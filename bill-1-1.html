<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phiếu Nghiệm Thu Vật Tư</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-size: 70%;
            font-size: 15px;
            line-height: 1;
        }
        .a4-container {
            /* border: 1px solid black; */
            width: 210mm;
            height: 297mm;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
        }
        .bold-text {
            font-weight: bold;
        }
        .signs {
            font-weight: bold;
            text-align: center;
        }
        .min-height-48 {
            min-height: 48px;
        }
        .my-img {
            width: 100%;
            max-width: 145px;
            height: 150px;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
                background-color: white;
            }
            .a4-container {
                margin: 0 auto;
                width: 210mm;
                height: 297mm;
            }
        }
        .all-center {
            text-align: center;
            vertical-align: middle;
        }
        .table-border {
            border: 2px solid black;
            border-collapse: collapse;
        }
        .table-border th,
        .table-border td {
            border: 2px solid black; /* Bold border of 3px */
        }
        .table {
            width: 100%;
            /* Table fits within the wrapper */
            max-width: 100%;
        }

        .table td {
            overflow-wrap: break-word;
            /* Handle long words gracefully */
            word-wrap: break-word;
            /* Legacy support for word wrapping */
            word-break: break-word;
            /* Force breaking long words */
            vertical-align: middle;
        }

        .font-size-13 {
            font-size: 15px !important;
        }

        .font-size-14 {
            font-size: 16px !important;
        }

        .font-size-18 {
            font-size: 20px !important;
        }

        .text-align-center {
            text-align: center;
        }

        .height40 {
            height: 40px;
        }

        .vertical-align-bottom {
            display: flex; align-items: flex-end;
            justify-content: center;
        }

        .mt-minus-1 {
            margin-top: 0px;
        }
    </style>
</head>
<body>
    <div class="a4-container">
        <div class="text-center mb-2">
            <div class="row">
                <div class="col-6">
                    <h6 class="bold-text font-size-14">TẬP ĐOÀN ĐIỆN LỰC VIỆT NAM </br> CÔNG TY TNHH MTV NHIỆT ĐIỆN THỦ ĐỨC</div>
                <div class="col-2"></div>
                <div class="col-4 font-size-14">
                    <p>HD-NĐTĐ-04-09/BM-05 </br>Lần ban hành : 02</p>
                </div>
            </div>
            <div class="row">
                <h6 class="fw-bold font-size-18" style="padding-top: 10px;">PHIẾU NGHIỆM THU VẬT TƯ VÀ ĐỀ NGHỊ NHẬP KHO</h6>
            </div>
        </div>
        
        <table class="table table-border">
            <tbody>
                <tr>
                    <td class="bold-text height40" style="width: 21%;">Ngày xuất hóa đơn</td>
                    <td id="nxhd" class="text-align-center height40" style="width: 29%;">26/12/2024</td>
                    <td class="bold-text height40" style="width: 21%;">Ngày Nghiệm thu</td>
                    <td id="nnt" class="text-align-center height40" style="width: 29%;">26/12/2024</td>
                </tr>
                <tr>
                    <td class="bold-text" >Hóa đơn số</td>
                    <td id="hds" class="text-align-center bold-text">31</td>
                    <td class="bold-text">Số phiếu nhập kho</td>
                    <td id="spnk" class="text-align-center">393-NK-12/2024</td>
                </tr>
                <tr>
                    <td class="bold-text">Đơn vị cung cấp</td>
                    <td id="dvcc" class="text-align-center bold-text">Hải Dương</td>
                    <td class="bold-text">Số phiếu trình giá</td>
                    <td id="sptg" class="text-align-center">443-MH-12/2024</td>
                </tr>
                <tr>
                    <td class="bold-text">Hình thức thanh toán</td>
                    <td class="text-align-center">Tiền mặt/chuyển khoản</td>
                    <td class="bold-text">Nhập kho (theo ERP)</td>
                    <td id="nk" class="text-align-center"></td>
                </tr>
            </tbody>
        </table>

        <h7 class="fw-bold">Danh mục hàng hóa:</h7>
        <table class="table table-border mt-1">
            <thead class="text-center">
                <tr>
                    <th class="all-center" style="width: 5%;">STT</th>
                    <th class="all-center" style="width: 31%;">TÊN VẬT TƯ</th>
                    <th class="all-center" style="width: 24%;">MÃ SỐ VẬT TƯ</th>
                    <th class="all-center" style="width: 6%;">ĐVT</th>
                    <th class="all-center" style="width: 7%;">SỐ LƯỢNG</th>
                    <th class="all-center" style="width: 10%;">VAT</th>
                    <th class="all-center" style="width: 15%;">THÀNH TIỀN</th>
                </tr>
            </thead>
            <tbody id="dmhh">
                <!-- <tr>
                    <td>1</td>
                    <td>Vật tư phụ (Ty, cùm) đỡ ống thoát nước</td>
                    <td>5.65.90.222.VIE.00.000</td>
                    <td>Gói</td>
                    <td>1</td>
                    <td>10%</td>
                    <td>605,000</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Thay bảo ôn cách nhiệt và quấn simili ống nước 021</td>
                    <td>4.88.36.201.VIE.00.000</td>
                    <td>Mét</td>
                    <td>50</td>
                    <td>10%</td>
                    <td>2,475,000</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Thay bảo ôn cách nhiệt và quấn simili ống nước 034</td>
                    <td>4.88.36.200.VIE.00.000</td>
                    <td>Mét</td>
                    <td>42</td>
                    <td>10%</td>
                    <td>4,158,000</td>
                </tr> -->
            </tbody>
      <tfoot>
    <tr class="total-row">
        <td colspan="6" class="text-end bold-text">Tổng cộng:</td>
        <td class="text-align-center bold-text" id="tc"></td>
    </tr>
</tfoot>
    </table>

        <div class="row mt-22">
            <div class="col">
                <h7 class="bold-text">Chất lượng:</h7>
                <table class="table table-border mt-1">
                    <tbody>
                        <tr>
                            <th style="width: 30%;" class="text-align-center">Tổng mục vật tư</th>
                            <th style="width: 35%;" class="text-align-center">Số lượng vật tư</th>
                            <th style="width: 35%;" class="text-align-center">Chất lượng vật tư</th>
                        </tr>
                        <tr>
                            <td id="tmvt" class="text-align-center"></td>
                            <td class="text-align-center">Đầy đủ theo hóa đơn</td>
                            <td class="text-align-center">Đạt yêu cầu</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="mt-2">
            <p><strong>Lý do nghiệm thu:</strong> Nhập phục vụ SXKD</p>
        </div>

        <div class="row text-center mt-1">
            <div class="col-4">
                <div class="row">
                    <div class="col-12 bold-text min-height-48 vertical-align-bottom">Thủ kho</div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <img src="" class="my-img" id="chuky1"/>
                        <div class="my-img" style="display: none;" id="chukybk1"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 bold-text font-size-13 mt-1" id="tenchuky1">Ngô Văn Ngọc Đức</div>
                </div>
            </div>
            <div class="col-4">
                <div class="row">
                    <div class="col-12 bold-text min-height-48 vertical-align-bottom">Kế toán vật tư</div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <img src="" class="my-img" id="chuky2"/>
                        <div class="my-img" style="display: none;" id="chukybk2"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 bold-text font-size-13 mt-1" id="tenchuky2">Huỳnh Nguyễn Trúc Vy</div>
                </div>
            </div>
            <div class="col-4">
                <div class="row">
                    <div class="col-12 bold-text min-height-48 vertical-align-bottom">Trưởng ban kiểm nghiệm công ty </br>Chủ tịch Hội đồng</div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <img src="" class="my-img" id="chuky3"/>
                        <div class="my-img" style="display: none;" id="chukybk3"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 bold-text font-size-13 mt-1" id="tenchuky3">PHÓ GIÁM ĐỐC </br>Nguyễn Tường Dũng</div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);

        document.getElementById('nxhd').innerHTML = urlParams.get('nxhd');
        document.getElementById('hds').innerHTML = urlParams.get('hds');
        document.getElementById('dvcc').innerHTML = urlParams.get('dvcc');
        document.getElementById('nnt').innerHTML = urlParams.get('nnt');
        document.getElementById('spnk').innerHTML = urlParams.get('spnk');
        document.getElementById('sptg').innerHTML = urlParams.get('sptg');
        document.getElementById('nk').innerHTML = urlParams.get('nk');
        document.getElementById('tc').innerHTML = urlParams.get('tc');

        const dmhh=urlParams.get('dmhh');

        let index = 0;
        if(dmhh) {
            const splitedDmhh = dmhh.split('_b_');
            if(splitedDmhh && splitedDmhh.length > 0) {
                let theContent = "";
                index = 1;
                for(let hh of splitedDmhh) {
                    console.log(hh)
                    const splitedHh = hh.split('_a_');
                    theContent += '<tr>' +
                    '<td class="text-align-center">' + index + '</td>' +
                    '<td>' + splitedHh[0] + '</td>' +
                    '<td class="text-align-center">' + splitedHh[1] + '</td>' +
                    '<td class="text-align-center">' + splitedHh[2] + '</td>' +
                    '<td class="text-align-center">' + splitedHh[3] + '</td>' +
                    '<td class="text-align-center">' + splitedHh[4] + '</td>' +
                    '<td class="text-align-center">' + splitedHh[5] + '</td>' +
                '</tr>';
                    index++;
                }

                document.getElementById('dmhh').insertAdjacentHTML("beforeend", theContent);
                document.getElementById('tmvt').innerHTML = index - 1;
            }

        }

        const chuky1 = urlParams.get('chuky1');
        if (chuky1)
            document.getElementById('chuky1').src = chuky1
        else {
            document.getElementById('chuky1').style.display = "none";
            document.getElementById('chukybk1').style.display = "block";
        }

        const chuky2 = urlParams.get('chuky2');
        if (chuky2)
            document.getElementById('chuky2').src = chuky2
        else {
            document.getElementById('chuky2').style.display = "none";
            document.getElementById('chukybk2').style.display = "block";
        }

        const chuky3 = urlParams.get('chuky3');
        if (chuky3)
            document.getElementById('chuky3').src = chuky3
        else {
            document.getElementById('chuky3').style.display = "none";
            document.getElementById('chukybk3').style.display = "block";
        }

        document.getElementById('tenchuky1').innerHTML = urlParams.get('tenchuky1');
        document.getElementById('tenchuky2').innerHTML = urlParams.get('tenchuky2');
        document.getElementById('tenchuky3').innerHTML = urlParams.get('tenchuky3');

        //file:///Users/BenNguyen/Documents/static-html-show-data/bill-1-1.html?nxhd=12/23/3333&hds=22
        //&dvcc=Ha%20noi&nnt=23/22/1222&spnk=12&sptg=22&nk=323
        //&dmhh=vat%20tu%20phu%20tung%20cac%20kieu%20con%20da%20dieu-2.323.23.223.VIE.dd-goi-1-10%-323,444:vat%20tu%20phu%20tung%20cac%20kieu%20con%20da%20dieu-2.323.23.223.VIE.dd-goi-1-10%-323,444
        //&chuky1=https://mcbooks.vn/wp-content/uploads/2023/09/tu-vung-bai-8-tieng-han-so-cap-1-thuc-don.jpg
        //&chuky2=&chuky3=https://mcbooks.vn/wp-content/uploads/2023/09/tu-vung-bai-8-tieng-han-so-cap-1-thuc-don.jpg
    </script>
</body>
</html>

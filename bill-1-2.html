<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giấy Đề Nghị Mua Vật Tư</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-size: 70%;
        }
        .a4-container {
            /* border: 1px solid black; */
            width: 295mm;
            height: 200mm;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
        }

        .bold-text {
            font-weight: bold;
        }

        .signs {
            font-weight: bold;
            text-align: center;
        }

        .min-height-48 {
            min-height: 29px;
        }

        .my-img {
            width: 100%;
            max-width: 145px;
            height: 150px;
        }

        @media print {
           

            body {
                margin: 0;
                padding: 0;
                background-color: white;
            }

            .a4-container {
                margin: 0 auto;
                width: 280mm;
                height: 190mm;
            }
        }

        .all-center {
            text-align: center;
            vertical-align: middle;
        }

        .table-border {
            border: 2px solid black;
            border-collapse: collapse;
        }

        .table-border th,
        .table-border td {
            border: 2px solid black;
            /* Bold border of 3px */
        }

        .tgt {
            text-align: right;
            font-weight: bold;
        }

        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-right {
            text-align: right;
        }
        .mt-5 {
            margin-top: 18px !important;
        }
        .table {
            width: 100%;
            /* Table fits within the wrapper */
            max-width: 100%;
        }

        .table td {
            overflow-wrap: break-word;
            /* Handle long words gracefully */
            word-wrap: break-word;
            /* Legacy support for word wrapping */
            word-break: break-word;
            /* Force breaking long words */
        }
    </style>
</head>

<body>
    <div class="a4-container">
        <div class="text-center mb-4">
            <div class="row">
                <div class="col-6">
                    <h6 class="bold-text">CÔNG TY TNHH MTV NHIỆT ĐIỆN THỦ ĐỨC </br>Phòng Kế hoạch và Vật tư</h6>
                </div>
                <div class="col-2"></div>
                <div class="col-4">
                    <p>Ngày: <span id="ngay"></span></br>Số: <span id="so"></span></p>
                </div>
            </div>
            <div class="row">
                <h6 class="fw-bold" style="padding-top: 8px;">GIẤY ĐỀ NGHỊ MUA VẬT TƯ</h6>
            </div>
        </div>

        <h6 class="fw-bold">Đơn vị cung cấp: Vpp Sang Hà</h6>

        <table class="table table-border">
            <thead class="text-center">
                <tr>
                    <th class="all-center" style="width: 5%;">STT</th>
                    <th class="all-center" style="width: 10%;">SỐ PHIẾU</th>
                    <th class="all-center" style="width: 20%;">TÊN VẬT TƯ</th>
                    <th class="all-center" style="width: 8%;">ĐVT</th>
                    <th class="all-center" style="width: 10%;">SỐ LƯỢNG</th>
                    <th class="all-center" style="width: 10%;">ĐƠN GIÁ</th>
                    <th class="all-center" style="width: 5%;">VAT</th>
                    <th class="all-center" style="width: 10%;">THÀNH TIỀN</th>
                    <th class="all-center" style="width: 22%;">MỤC ĐÍCH SỬ DỤNG</th>
                </tr>
            </thead>
            <tbody id="vattu">

            </tbody>
        </table>

        <div class="row text-center mt-5">
            <div class="col-4">
                <div class="row">
                    <div class="col-12 bold-text min-height-48">NGƯỜI ĐỀ NGHỊ</div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <img src="" class="my-img" id="chuky1" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 bold-text" id="tenchuky1">Nguyễn Nhật Quang</div>
                </div>
            </div>
            <div class="col-4">
                <div class="row">
                    <div class="col-12 bold-text min-height-48">PHÒNG KẾ HOẠCH VÀ VẬT TƯ</div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <img src="" class="my-img" id="chuky2" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 bold-text" id="tenchuky2">Nguyễn Thanh Quân</div>
                </div>
            </div>
            <div class="col-4">
                <div class="row">
                    <div class="col-12 bold-text min-height-48">GIÁM ĐỐC</div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <img src="" class="my-img" id="chuky3" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 bold-text" id="tenchuky3">Đỗ Thanh Tuyền</div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);

        document.getElementById('ngay').innerHTML = urlParams.get('ngay');
        document.getElementById('so').innerHTML = urlParams.get('so');

        const vattu = urlParams.get('vattu');

        let index = 0;
        let theContent = "";
        if (vattu) {
            const vattuSplited = vattu.split('_b_');
            if (vattuSplited && vattuSplited.length > 0) {
                index = 1;
                for (let vt of vattuSplited) {
                    const splitedVt = vt.split('_a_');
                    theContent += '<tr>' +
                        '<td class="text-center">' + index + '</td>' +
                        '<td class="text-center">' + splitedVt[0] + '</td>' +
                        '<td>' + splitedVt[1] + '</td>' +
                        '<td class="text-center">' + splitedVt[2] + '</td>' +
                        '<td class="text-center">' + splitedVt[3] + '</td>' +
                        '<td class="text-right">' + splitedVt[4] + '</td>' +
                        '<td class="text-center">' + splitedVt[5] + '</td>' +
                        '<td class="text-right">' + splitedVt[6] + '</td>' +
                        '<td>' + splitedVt[7] + '</td>' +
                        '</tr>';
                    index++;
                }
            }
        }
        theContent += '<tr>' +
            '<td colspan="7" class="tgt">Tổng giá trị</td>' +
            '<td colspan="2" class="text-left bold-text">' + urlParams.get('tgt') + '</td>' +
            '</tr>';

        theContent += '<tr>' +
            '<td colspan="9" class="bold-text text-center">Số tiền xin tạm ứng: ' + urlParams.get('stxtu') +
            '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Viết bằng chữ: ' +
            urlParams.get('stxtubc') + '</td>' +
            '</tr>';

        document.getElementById('vattu').insertAdjacentHTML("beforeend", theContent);

        document.getElementById('chuky1').src = urlParams.get('chuky1');
        document.getElementById('chuky2').src = urlParams.get('chuky2');
        document.getElementById('chuky3').src = urlParams.get('chuky3');

        document.getElementById('tenchuky1').innerHTML = urlParams.get('tenchuky1');
        document.getElementById('tenchuky2').innerHTML = urlParams.get('tenchuky2');
        document.getElementById('tenchuky3').innerHTML = urlParams.get('tenchuky3');

        //file:///Users/BenNguyen/Documents/static-html-show-data/bill-1-2.html?ngay=06/05/2024&so=49-JD-05/55&vattu=16-KHVT~Dao roc day~Cai~44~10.000~10%~122.120~choi cho vui y ma&tgt=3.5454.1d&stxtu=3212121d&stxtubc=Ba muoi nam tram treiu dong&chuky1=&chuky2=&chuky3=
    </script>
</body>

</html>
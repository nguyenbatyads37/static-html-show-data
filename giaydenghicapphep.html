<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·∫•y ƒë·ªÅ ngh·ªã c·∫•p GPVT - H·ªì s∆° xe</title>
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Times New Roman", Times, serif;
            font-size: 12pt;
            line-height: 1.3;
            background-color: #f5f5f5;
            padding: 20px;
        }

        /* ===== TAB NAVIGATION ===== */
        .tabs-container {
            max-width: 210mm;
            margin: 0 auto 20px;
            background: #fff;
            border: 1px solid #ccc;
            display: flex;
        }

        .tab-link {
            flex: 1;
            padding: 12px 20px;
            background: #f0f0f0;
            border: none;
            border-right: 1px solid #ccc;
            cursor: pointer;
            font-size: 12pt;
            font-weight: bold;
            transition: background 0.3s;
        }

        .tab-link:last-child {
            border-right: none;
        }

        .tab-link:hover {
            background: #e0e0e0;
        }

        .tab-link.active {
            background: #fff;
            color: #000;
        }

        /* ===== CONTENT CONTAINER & A4 PAGE ===== */
        .content-container {
            max-width: 210mm;
            margin: 0 auto;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .page-container {
            width: 210mm;
            min-height: 297mm;
            background: white;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 15mm 15mm 15mm 25mm;
            position: relative;
        }

        .print-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 25px;
            font-size: 12pt;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            margin-bottom: 15px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .print-button:hover {
            background: #218838;
        }

        /* ===== PAGE 1 STYLES - GI·∫§Y ƒê·ªÄ NGH·ªä ===== */
        .header-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 5px;
        }

        .header-left {
            width: 35%;
            font-size: 11pt;
            text-align: center;
        }

        .header-right {
            width: 60%;
            font-size: 11pt;
            text-align: center;
        }

        .header-left .company-name {
            font-weight: bold;
            font-size: 12pt;
            margin: 2px 0;
        }

        .header-right .vietnam {
            font-weight: bold;
            font-size: 12pt;
            white-space: nowrap;
            overflow: hidden;
        }

        .header-right .motto {
            font-weight: bold;
            font-size: 11pt;
            text-decoration: underline;
            text-underline-offset: 2px;
        }

        .document-title {
            text-align: center;
            font-weight: bold;
            font-size: 13pt;
            text-transform: uppercase;
            margin: 12px 0 10px;
            line-height: 1.3;
        }

        .recipient {
            text-align: center;
            font-size: 12pt;
            margin: 10px 0 12px;
        }

        /* Main Content */
        .main-content {
            font-size: 11.5pt;
            text-align: justify;
        }

        .main-content p {
            margin-bottom: 6px;
            text-indent: 30px;
            line-height: 1.35;
        }

        /* Table Styles */
        .table-wrapper {
            margin: 10px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 9pt;
            table-layout: fixed;
        }

        th,
        td {
            border: 1px solid #000;
            padding: 3px;
            text-align: center;
            vertical-align: middle;
            word-wrap: break-word;
        }

        th {
            background-color: #f0f0f0;
            font-weight: bold;
            font-size: 9pt;
            line-height: 1.2;
        }

        #table-body td {
            line-height: 1.15em;
            max-height: 3.45em;
            overflow: hidden;
            text-align: left;
            padding: 3px;
            font-size: 9pt;
        }

        #table-body td:nth-child(1),
        #table-body td:nth-child(5) {
            text-align: center;
        }

        #table-body td:nth-child(2) {
            text-align: center;
        }

        /* Footer Section */
        .footer-section {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 11.5pt;
        }

        .footer-left {
            width: 40%;
            line-height: 1.3;
        }

        .footer-right {
            width: 40%;
            text-align: center;
        }

        .footer-right .position {
            font-weight: bold;
            font-size: 12pt;
            text-transform: uppercase;
            margin-bottom: 3px;
        }

        .footer-right .sign-note {
            font-style: italic;
            font-size: 10.5pt;
            margin-bottom: 40px;
        }

        .signature-container {
            position: relative;
            height: 80px;
            margin-top: -30px;
        }

        .signature-container img {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            max-width: 140px;
            height: auto;
            opacity: 0.8;
        }

        .footer-right .name {
            font-weight: bold;
            font-size: 12pt;
        }

        /* ===== CSS M·ªöI CHO M√É H·ªí S∆† V√Ä NG√ÄY C·∫§P L·∫¶N ƒê·∫¶U ===== */
        #ho-so-info {
            position: absolute;
            bottom: 15mm;
            left: 25mm;
            width: 40%;
            padding: 3px 8px;
            color: black;
            font-size: 10pt;
            line-height: 1.25;
            text-align: left;
        }

        #ho-so-content,
        #ngay-cap-landau-content {
            font-weight: bold;
            display: inline;
        }

        #cap-lan-1-row {
            margin-top: 3px;
        }

        /* ===== TAB 2: ƒêƒÇNG K√ù XE STYLES ===== */
        #dangky-container {
            max-width: 210mm;
            margin: 0 auto;
        }

        .dangky-page {
            width: 210mm;
            min-height: 297mm;
            background: white;
            margin: 0 auto 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 20mm 15mm;
            page-break-after: always;
        }

        .dangky-bks {
            text-align: center;
            font-size: 16pt;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #000;
        }

        .dangky-image-container {
            width: 100%;
            margin-bottom: 30px;
        }

        .dangky-image-container:last-child {
            margin-bottom: 0;
        }

        .dangky-image-label {
            text-align: center;
            font-size: 12pt;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .dangky-image-wrapper {
            width: 100%;
            text-align: center;
            border: 1px solid #ddd;
            padding: 10px;
            background: #f9f9f9;
            overflow: auto;
        }

        .dangky-image-wrapper img {
            max-width: 300%;
            width: 80%;
            height: auto;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }

        /* ===== PRINT STYLES ===== */
        @media print {
            @page {
                size: A4;
                margin: 0;
            }

            body {
                background: white;
                margin: 0;
                padding: 0;
                font-size: 12pt;
                line-height: 1.3;
            }

            .tabs-container,
            .print-button {
                display: none !important;
            }

            .content-container {
                margin: 0;
                width: 100%;
            }

            .tab-content {
                display: none !important;
            }

            .tab-content.printing {
                display: block !important;
            }

            .page-container {
                width: 210mm;
                min-height: 297mm;
                margin: 0;
                padding: 15mm 15mm 15mm 25mm;
                box-shadow: none;
                page-break-after: always;
            }

            .dangky-page {
                width: 210mm;
                min-height: 297mm;
                margin: 0;
                padding: 20mm 15mm;
                box-shadow: none;
                page-break-after: always;
            }

            .dangky-page:last-child {
                page-break-after: auto;
            }

            .dangky-image-wrapper {
                overflow: visible !important;
            }

            .dangky-image-wrapper img {
                max-width: 100%;
            }

            table {
                font-size: 9pt;
                page-break-inside: avoid;
            }

            th,
            td {
                font-size: 9pt;
            }

            .header-section,
            .footer-section,
            .signature-container {
                page-break-inside: avoid;
            }

            #ho-so-info {
                position: absolute;
                bottom: 15mm;
                left: 25mm;
                width: 40%;
            }
        }
    </style>
</head>

<body>
    <div class="tabs-container">
        <button class="tab-link active" data-tab="tab1">Gi·∫•y ƒë·ªÅ ngh·ªã</button>
        <button class="tab-link" data-tab="tab2">ƒêƒÉng k√Ω xe</button>
    </div>

    <div class="content-container">
        <div id="tab1" class="tab-content active">
            <button class="print-button" onclick="printTab('tab1')">üñ®Ô∏è In Gi·∫•y ƒë·ªÅ ngh·ªã</button>
            <div class="page-container">
                <div class="header-section">
                    <div class="header-left">
                        <div class="company-name" id="company-name-header">T√äN C√îNG TY</div>
                        S·ªë: <span id="doc-number">...</span>
                    </div>
                    <div class="header-right">
                        <div class="vietnam">C·ªòNG H√íA X√É H·ªòI CH·ª¶ NGHƒ®A VI·ªÜT NAM</div>
                        <div class="motto">ƒê·ªôc l·∫≠p - T·ª± do - H·∫°nh ph√∫c</div>
                        <div class="date-place" id="date-place">L·∫°ng S∆°n, ng√†y ... th√°ng ... nƒÉm 2024</div>
                    </div>
                </div>
                <div class="document-title">
                    GI·∫§Y ƒê·ªÄ NGH·ªä C·∫§P L·∫†I GI·∫§Y PH√âP V·∫¨N T·∫¢I ƒê∆Ø·ªúNG B·ªò QU·ªêC T·∫æ GI·ªÆA VI·ªÜT NAM V√Ä TRUNG QU·ªêC
                </div>
                <div class="recipient">
                    <strong>K√≠nh g·ª≠i: S·ªü X√¢y d·ª±ng L·∫°ng S∆°n</strong>
                </div>
                <div class="main-content">
                    <p>1. T√™n ƒë∆°n v·ªã v·∫≠n t·∫£i: <strong id="company-name-content">...</strong></p>
                    <p>2. ƒê·ªãa ch·ªâ: <span id="address">...</span></p>
                    <p>3. ƒêi·ªán tho·∫°i: <span id="phone">...</span></p>
                    <p>4. Gi·∫•y ph√©p kinh doanh v·∫≠n t·∫£i b·∫±ng xe √¥ t√¥ s·ªë 243282/GPKDVT, ng√†y c·∫•p: 18/10/2024; n∆°i c·∫•p: S·ªü
                        Giao th√¥ng v·∫≠n t·∫£i L·∫°ng S∆°n.</p>
                    <p>5. ƒê·ªÅ ngh·ªã c·∫•p l·∫°i Gi·∫•y ph√©p v·∫≠n t·∫£i lo·∫°i <span id="request-type"
                            style="color: red; font-weight: bold;">...</span> cho c√°c ph∆∞∆°ng ti·ªán sau:</p>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 4%">TT</th>
                                <th style="width: 10%">Bi·ªÉn s·ªë xe</th>
                                <th style="width: 10%">Nh√£n hi·ªáu</th>
                                <th style="width: 7%">NƒÉm SX</th>
                                <th style="width: 8%">Tr·ªçng t·∫£i</th>
                                <th style="width: 15%">Th·ªùi gian<br>ƒë·ªÅ ngh·ªã</th>
                                <th style="width: 10%">H√¨nh th·ª©c<br>Hƒê</th>
                                <th style="width: 16%">Tuy·∫øn Hƒê</th>
                                <th style="width: auto; min-width: 150px;">ƒêi·ªÉm<br>d·ª´ng ngh·ªâ</th>
                            </tr>
                        </thead>
                        <tbody id="table-body">
                        </tbody>
                    </table>
                </div>
                <div class="main-content">
                    <p>6. Ng∆∞·ªùi li√™n h·ªá: <span id="contact-person">...</span>, ƒêi·ªán tho·∫°i: <span
                            id="contact-phone">...</span></p>
                    <p>ƒê∆°n v·ªã ch√∫ng t√¥i xin cam k·∫øt th·ª±c hi·ªán ƒë√∫ng c√°c quy ƒë·ªãnh v·ªÅ v·∫≠n t·∫£i ƒë∆∞·ªùng b·ªô qu·ªëc t·∫ø gi·ªØa Vi·ªát
                        Nam v√† Trung Qu·ªëc.</p>
                    <p>K√≠nh ƒë·ªÅ ngh·ªã S·ªü Giao th√¥ng v·∫≠n t·∫£i L·∫°ng S∆°n xem x√©t v√† c·∫•p Gi·∫•y ph√©p v·∫≠n t·∫£i lo·∫°i <span
                            id="request-type-2" style="color: red; font-weight: bold;">...</span> cho c√°c ph∆∞∆°ng ti·ªán
                        n√™u tr√™n.</p>
                </div>
                <div class="footer-section">
                    <div class="footer-left">
                        <strong>N∆°i nh·∫≠n:</strong><br>
                        - Nh∆∞ tr√™n;<br>
                        - L∆∞u: VT.
                    </div>
                    <div class="footer-right">
                        <div class="position">GI√ÅM ƒê·ªêC</div>
                        <div class="sign-note">(K√Ω t√™n, ƒë√≥ng d·∫•u)</div>
                        <div class="signature-container">
                        </div>
                        <div class="name" id="director-name">L·ª•c Di·ªáu Na</div>
                    </div>
                </div>
                <div id="ho-so-info">
                    M√£ HS: <span id="ho-so-content">...</span>
                    <div id="cap-lan-1-row">
                        C·∫•p l·∫ßn 1 ng√†y: <span id="ngay-cap-landau-content">...</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab2" class="tab-content">
            <button class="print-button" onclick="printTab('tab2')">üñ®Ô∏è In ƒêƒÉng k√Ω xe</button>
            <div id="dangky-container">
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);

            const getParam = (key, defaultValue = '') => {
                const rawValue = urlParams.get(key);
                if (rawValue) {
                    try {
                        return decodeURIComponent(rawValue);
                    } catch (e) {
                        return rawValue;
                    }
                }
                return defaultValue;
            };

            const companyName = getParam('tencongty', 'T√äN C√îNG TY');
            document.getElementById('company-name-header').textContent = companyName;
            document.getElementById('company-name-content').textContent = companyName;

            const fields = {
                'so': { id: 'doc-number', default: '...' },
                'diachi': { id: 'address', default: '...' },
                'sdt': { id: 'phone', default: '...' },
                'nguoilienhe': { id: 'contact-person', default: '...' },
                'sdtlh': { id: 'contact-phone', default: '...' },
                'loaidenghi': { id: 'request-type', default: '...' },
                'giamdoc': { id: 'director-name', default: 'L·ª•c Di·ªáu Na' }
            };

            for (const [param, config] of Object.entries(fields)) {
                const value = getParam(param, config.default);
                const element = document.getElementById(config.id);
                if (element) {
                    element.textContent = value;
                }
                if (config.id === 'request-type') {
                    const element2 = document.getElementById('request-type-2');
                    if (element2) element2.textContent = value;
                }
            }

            const loaiChuKy = getParam('loaichuky');
            const directorNameElement = document.getElementById('director-name');

            if (directorNameElement) {
                if (loaiChuKy.toLowerCase() !== 'ch·ªØ k√Ω') {
                    directorNameElement.style.visibility = 'hidden';
                } else {
                    directorNameElement.style.visibility = 'visible';
                }
            }

            const maHoSo = getParam('mahoso', '...');
            const ngayCapLanDau = getParam('ngaycaplandau', '...');

            const hoSoContentSpan = document.getElementById('ho-so-content');
            const ngayCapContentSpan = document.getElementById('ngay-cap-landau-content');

            if (hoSoContentSpan) {
                hoSoContentSpan.textContent = maHoSo;
            }
            if (ngayCapContentSpan) {
                ngayCapContentSpan.textContent = ngayCapLanDau;
            }

            if (!urlParams.has('ngaythang')) {
                const today = new Date();
                document.getElementById('date-place').textContent =
                    `L·∫°ng S∆°n, ng√†y ${today.getDate()} th√°ng ${today.getMonth() + 1} nƒÉm ${today.getFullYear()}`;
            } else {
                document.getElementById('date-place').textContent = getParam('ngaythang');
            }

            const dataString = getParam('data');
            if (dataString) {
                const tableBody = document.getElementById('table-body');
                const rows = dataString.split('_b_');

                rows.forEach((rowData, index) => {
                    if (rowData && rowData.trim()) {
                        let cells = rowData.split('_a_');
                        const row = document.createElement('tr');

                        const sttCell = document.createElement('td');
                        sttCell.textContent = index + 1;
                        row.appendChild(sttCell);

                        const dataToInsert = [];
                        dataToInsert.push(cells[0] || '');
                        dataToInsert.push(cells[1] || '');
                        dataToInsert.push(cells[2] || '');
                        dataToInsert.push(cells[3] || '');

                        let thoiGianDN = cells[4] || '';
                        if (thoiGianDN.startsWith('14T')) {
                            thoiGianDN = thoiGianDN.substring(2).trim();
                        }
                        dataToInsert.push(thoiGianDN);
                        dataToInsert.push(cells[5] || '');
                        dataToInsert.push(cells[6] || '');
                        dataToInsert.push(cells[7] || '');

                        dataToInsert.forEach(cellData => {
                            const cell = document.createElement('td');
                            cell.textContent = cellData;
                            row.appendChild(cell);
                        });

                        tableBody.appendChild(row);
                    }
                });
            }

            const signatureContainer = document.querySelector('.signature-container');
            const sealUrl = getParam('condau');
            const signatureUrl = getParam('chuki');

            if (sealUrl && sealUrl.startsWith('http')) {
                const sealImg = document.createElement('img');
                sealImg.src = sealUrl;
                sealImg.className = 'seal';
                sealImg.alt = 'Con d·∫•u';
                sealImg.onerror = function () {
                    console.error('Kh√¥ng th·ªÉ t·∫£i ·∫£nh con d·∫•u:', sealUrl);
                    this.style.display = 'none';
                };
                signatureContainer.appendChild(sealImg);
            }

            if (signatureUrl && signatureUrl.startsWith('http')) {
                const signImg = document.createElement('img');
                signImg.src = signatureUrl;
                signImg.className = 'signature';
                signImg.alt = 'Ch·ªØ k√Ω';
                signImg.onerror = function () {
                    console.error('Kh√¥ng th·ªÉ t·∫£i ·∫£nh ch·ªØ k√Ω:', signatureUrl);
                    this.style.display = 'none';
                };
                signatureContainer.appendChild(signImg);
            }

            let linkAnhRaw = urlParams.get('linkanh');
            const dangkyContainer = document.getElementById('dangky-container');

            let linkAnh = '';
            if (linkAnhRaw) {
                try {
                    linkAnh = decodeURIComponent(linkAnhRaw);
                } catch (e) {
                    linkAnh = linkAnhRaw;
                }
            }

            if (linkAnh && linkAnh.trim()) {
                let pages = [];
                if (linkAnh.includes('_b_')) {
                    pages = linkAnh.split('_b_');
                } else {
                    pages = [linkAnh];
                }

                pages.forEach((pageData, pageIndex) => {
                    if (pageData && pageData.trim()) {
                        const cells = pageData.split('_a_');

                        if (cells.length > 1) {
                            let bks = '';
                            let linkDangKyTruoc = '';
                            let linkDangKySau = '';
                            
                            // Heuristic to determine structure based on whether the second element is a URL
                            const firstCell = cells[1] ? cells[1].trim() : '';
                            if (firstCell.toLowerCase().startsWith('http')) {
                                bks = ''; // Or some default if BKS is not provided in this format
                                linkDangKyTruoc = firstCell;
                                linkDangKySau = cells[2] ? cells[2].trim() : '';
                            } else {
                                bks = firstCell;
                                linkDangKyTruoc = cells[2] ? cells[2].trim() : '';
                                linkDangKySau = cells[3] ? cells[3].trim() : '';
                            }

                            createDangKyPage(dangkyContainer, bks, linkDangKyTruoc, linkDangKySau);
                        }
                    }
                });
            } else {
                const noDataDiv = document.createElement('div');
                noDataDiv.style.textAlign = 'center';
                noDataDiv.style.padding = '50px';
                noDataDiv.style.fontSize = '14pt';
                noDataDiv.style.color = '#666';
                noDataDiv.textContent = 'Kh√¥ng c√≥ d·ªØ li·ªáu ƒëƒÉng k√Ω xe. Vui l√≤ng truy·ªÅn tham s·ªë "linkanh" trong URL.';
                dangkyContainer.appendChild(noDataDiv);
            }

            function createImageSection(label, imageUrl, bks) {
                if (!imageUrl || imageUrl === 'null' || imageUrl.trim() === '') {
                    return null;
                }
                
                const container = document.createElement('div');
                container.className = 'dangky-image-container';

                const labelDiv = document.createElement('div');
                labelDiv.className = 'dangky-image-label';
                labelDiv.textContent = label;
                container.appendChild(labelDiv);

                const wrapper = document.createElement('div');
                wrapper.className = 'dangky-image-wrapper';

                const img = document.createElement('img');
                let finalUrl = imageUrl.trim();

                try {
                    while (finalUrl.includes('%')) {
                        const decoded = decodeURIComponent(finalUrl);
                        if (decoded === finalUrl) break;
                        finalUrl = decoded;
                    }
                } catch (e) {
                    console.log('Gi·ªØ nguy√™n URL sau khi gi·∫£i m√£ th·∫•t b·∫°i:', finalUrl);
                }

                if (!finalUrl.startsWith('http://') && !finalUrl.startsWith('https://')) {
                    console.error('ƒê·ªãnh d·∫°ng URL kh√¥ng h·ª£p l·ªá:', finalUrl);
                    const errorDiv = document.createElement('div');
                    errorDiv.textContent = 'URL kh√¥ng h·ª£p l·ªá';
                    errorDiv.style.color = 'red';
                    errorDiv.style.fontSize = '12pt';
                    errorDiv.style.padding = '20px';
                    wrapper.appendChild(errorDiv);
                } else {
                    img.src = finalUrl;
                    img.alt = `BKS ${bks} - ${label}`;
                    img.loading = 'lazy';
                    img.onerror = function () {
                        console.error(`L·ªói t·∫£i ·∫£nh (${label}):`, finalUrl);
                        this.style.display = 'none';
                        const errorDiv = document.createElement('div');
                        errorDiv.textContent = 'L·ªói t·∫£i ·∫£nh';
                        errorDiv.style.color = 'red';
                        errorDiv.style.fontSize = '12pt';
                        errorDiv.style.padding = '20px';
                        this.parentElement.appendChild(errorDiv);
                    };
                    wrapper.appendChild(img);
                }
                container.appendChild(wrapper);
                return container;
            }

            function createDangKyPage(container, bks, linkDangKyTruoc, linkDangKySau) {
                const pageDiv = document.createElement('div');
                pageDiv.className = 'dangky-page';

                const bksDiv = document.createElement('div');
                bksDiv.className = 'dangky-bks';
                bksDiv.textContent = `·∫¢nh gi·∫•y ƒëƒÉng k√Ω xe: ${bks || 'Kh√¥ng c√≥ th√¥ng tin'}`;
                pageDiv.appendChild(bksDiv);
                
                const truocSection = createImageSection('M·∫∂T TR∆Ø·ªöC', linkDangKyTruoc, bks);
                if (truocSection) {
                    pageDiv.appendChild(truocSection);
                }

                const sauSection = createImageSection('M·∫∂T SAU', linkDangKySau, bks);
                if (sauSection) {
                    pageDiv.appendChild(sauSection);
                }

                container.appendChild(pageDiv);
            }
        });

        function printTab(tabId) {
            const content = document.getElementById(tabId);
            if (!content) return;

            content.classList.add('printing');

            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => {
                if (tab.id !== tabId) {
                    tab.style.display = 'none';
                }
            });

            window.print();

            content.classList.remove('printing');
            allTabs.forEach(tab => {
                // Restore default display by removing inline style
                tab.style.display = ''; 
            });
        }


        document.querySelectorAll('.tab-link').forEach(link => {
            link.addEventListener('click', function () {
                const targetTab = this.getAttribute('data-tab');
                document.querySelectorAll('.tab-link').forEach(l => l.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
            });
        });
    </script>
</body>

</html>

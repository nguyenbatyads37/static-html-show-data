<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phiếu Hóa Đơn</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .info-section {
            margin-bottom: 30px;
        }
        .info-row {
            display: flex;
            margin-bottom: 10px;
        }
        .info-label {
            font-weight: bold;
            width: 150px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        img {
            width: 50px;
            height: 50px;
        }
        .qr-code {
            width: 100px;
            height: 100px;
        }
        .footer {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
        }
        .signature {
            text-align: center;
            width: 200px;
        }
    </style>
</head>
<body>

<script>
    // Hàm lấy tham số từ URL
    function getUrlParameter(name) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(window.location.href);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    // Điền dữ liệu khi trang được tải
    window.onload = function() {
        // Lấy các tham số từ URL
        const params = {
            bengiao: getUrlParameter('bengiao'),
            daidien: getUrlParameter('daidien'),
            chucvu: getUrlParameter('chucvu'),
            dienthoai: getUrlParameter('dienthoai'),
            noigiao: getUrlParameter('noigiao'),
            bennhan: getUrlParameter('bennhan'),
            hangmuc: getUrlParameter('hangmuc'),
            nhaxe: getUrlParameter('nhaxe'),
            bienso: getUrlParameter('bienso'),
            ngay: getUrlParameter('ngay'),
            ngaybh: getUrlParameter('ngaybh'),
            chitiet: getUrlParameter('chitiet'),
            ghichu: getUrlParameter('ghichu')
        };

        // Điền thông tin vào các phần tử HTML
        document.getElementById('bengiao').textContent = params.bengiao || '';
        document.getElementById('daidien').textContent = params.daidien || '';
        document.getElementById('chucvu').textContent = params.chucvu || '';
        document.getElementById('dienthoai').textContent = params.dienthoai || '';
        document.getElementById('noigiao').textContent = params.noigiao || '';
        document.getElementById('bennhan').textContent = params.bennhan || '';
        document.getElementById('hangmuc').textContent = params.hangmuc || '';
        document.getElementById('nhaxe').textContent = params.nhaxe || '';
        document.getElementById('bienso').textContent = params.bienso || '';
        document.getElementById('ngay').textContent = params.ngay || '';
        document.getElementById('ngaybh').textContent = params.ngaybh || '';
        
        // Xử lý QR code nếu có
        if (params.chitiet) {
            document.getElementById('qr-chitiet').src = params.chitiet;
            document.getElementById('qr-chitiet').style.display = 'block';
        }
        
        if (params.ghichu) {
            document.getElementById('qr-ghichu').src = params.ghichu;
            document.getElementById('qr-ghichu').style.display = 'block';
        }
    };
</script>

<div class="header">
    <h2>PHIẾU HÓA ĐƠN</h2>
    <div>
        <div>Ngày: <span id="ngay"></span></div>
        <div>Ngày bảo hành: <span id="ngaybh"></span></div>
    </div>
</div>

<div class="info-section">
    <h3>THÔNG TIN BÊN GIAO</h3>
    <div class="info-row">
        <div class="info-label">Bên giao:</div>
        <div id="bengiao"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Đại diện:</div>
        <div id="daidien"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Chức vụ:</div>
        <div id="chucvu"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Điện thoại:</div>
        <div id="dienthoai"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Nơi giao:</div>
        <div id="noigiao"></div>
    </div>
</div>

<div class="info-section">
    <h3>THÔNG TIN BÊN NHẬN</h3>
    <div class="info-row">
        <div class="info-label">Bên nhận:</div>
        <div id="bennhan"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Hạng mục:</div>
        <div id="hangmuc"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Nhà xe:</div>
        <div id="nhaxe"></div>
    </div>
    <div class="info-row">
        <div class="info-label">Biển số:</div>
        <div id="bienso"></div>
    </div>
</div>

<h3>CHI TIẾT SẢN PHẨM</h3>
<table>
    <thead>
        <tr>
            <th>STT</th>
            <th>Ảnh</th>
            <th>Tên SP</th>
            <th>Tiếng Trung</th>
            <th>Trọng lượng (gross weight)</th>
            <th>Tổng Chi Phí (Total Cost)</th>
            <th>Số Lượng (SL)</th>
            <th>Giá</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1</td>
            <td><img src="image1.jpg" alt="Ảnh 1"></td>
            <td>LT VCA 12m Đá Lục VH</td>
            <td>12m五花乳香石K红</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>2</td>
            <td><img src="image2.jpg" alt="Ảnh 2"></td>
            <td>LT VCA 12m Đá đỏ VH</td>
            <td>12m五花红玛瑙K红</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>3</td>
            <td><img src="image3.jpg" alt="Ảnh 3"></td>
            <td>LT VCA 12m Đá trắng VH</td>
            <td>12m五花白贝K红</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>4</td>
            <td><img src="image4.jpg" alt="Ảnh 4"></td>
            <td>LT VCA 12m Đá đen VH</td>
            <td>12m五花黑玛瑙K红</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>5</td>
            <td><img src="image5.jpg" alt="Ảnh 5"></td>
            <td>LT VCA 15m Full Phay VH</td>
            <td>"你好"</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </tbody>
</table>

<div class="info-section">
    <h3>THÔNG TIN BỔ SUNG</h3>
    <div class="info-row">
        <div class="info-label">QR Chi tiết:</div>
        <img id="qr-chitiet" class="qr-code" style="display: none;">
    </div>
    <div class="info-row">
        <div class="info-label">QR Ghi chú:</div>
        <img id="qr-ghichu" class="qr-code" style="display: none;">
    </div>
</div>

<div class="footer">
    <div class="signature">
        <div>BÊN GIAO</div>
        <div style="height: 50px; margin-top: 20px;"></div>
        <div id="bengiao-sign"></div>
    </div>
    <div class="signature">
        <div>BÊN NHẬN</div>
        <div style="height: 50px; margin-top: 20px;"></div>
        <div id="bennhan-sign"></div>
    </div>
</div>

<script>
    // Điền tên vào phần chữ ký
    window.onload = function() {
        // ... (phần code trước đó)
        
        // Điền tên vào phần chữ ký
        document.getElementById('bengiao-sign').textContent = params.bengiao || '';
        document.getElementById('bennhan-sign').textContent = params.bennhan || '';
    };
</script>

</body>
</html>

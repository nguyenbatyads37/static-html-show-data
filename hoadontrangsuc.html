<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phiếu Hóa Đơn</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        img {
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>

<h2>Phiếu Hóa Đơn</h2>

<table id="invoiceTable">
    <thead>
        <tr>
            <th>STT</th>
            <th>Ảnh</th>
            <th>Tên SP</th>
            <th>Tiếng Trung</th>
            <th>Trọng lượng (gross weight)</th>
            <th>Tổng Chi Phí (Total Cost)</th>
            <th>Số Lượng (SL)</th>
            <th>Giá</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1</td>
            <td><img src="image1.jpg" alt="Ảnh 1"></td>
            <td>LT VCA 12m Đá Lục VH</td>
            <td>12m五花乳香石K红</td>
            <td class="weight"></td>
            <td class="total-cost"></td>
            <td class="quantity"></td>
            <td class="price"></td>
        </tr>
        <tr>
            <td>2</td>
            <td><img src="image2.jpg" alt="Ảnh 2"></td>
            <td>LT VCA 12m Đá đỏ VH</td>
            <td>12m五花红玛瑙K红</td>
            <td class="weight"></td>
            <td class="total-cost"></td>
            <td class="quantity"></td>
            <td class="price"></td>
        </tr>
        <tr>
            <td>3</td>
            <td><img src="image3.jpg" alt="Ảnh 3"></td>
            <td>LT VCA 12m Đá trắng VH</td>
            <td>12m五花白贝K红</td>
            <td class="weight"></td>
            <td class="total-cost"></td>
            <td class="quantity"></td>
            <td class="price"></td>
        </tr>
        <tr>
            <td>4</td>
            <td><img src="image4.jpg" alt="Ảnh 4"></td>
            <td>LT VCA 12m Đá đen VH</td>
            <td>12m五花黑玛瑙K红</td>
            <td class="weight"></td>
            <td class="total-cost"></td>
            <td class="quantity"></td>
            <td class="price"></td>
        </tr>
        <tr>
            <td>5</td>
            <td><img src="image5.jpg" alt="Ảnh 5"></td>
            <td>LT VCA 15m Full Phay VH</td>
            <td>"你好"</td>
            <td class="weight"></td>
            <td class="total-cost"></td>
            <td class="quantity"></td>
            <td class="price"></td>
        </tr>
    </tbody>
</table>

<script>
    // Hàm lấy tham số từ URL
    function getUrlParams() {
        const params = {};
        const queryString = window.location.search.substring(1);
        const pairs = queryString.split('&');
        
        for (let i = 0; i < pairs.length; i++) {
            const pair = pairs[i].split('=');
            if (pair.length === 2) {
                params[pair[0]] = decodeURIComponent(pair[1].replace(/\+/g, ' '));
            }
        }
        return params;
    }

    // Điền dữ liệu khi trang được tải
    window.onload = function() {
        const params = getUrlParams();
        console.log("Tham số URL:", params);

        // Lấy tất cả các hàng trong bảng (trừ hàng đầu tiên là header)
        const rows = document.querySelectorAll("#invoiceTable tbody tr");
        
        // Điền dữ liệu từ URL vào các ô tương ứng
        rows.forEach((row, index) => {
            const rowNum = index + 1;
            
            if (params[`weight${rowNum}`]) {
                row.querySelector('.weight').textContent = params[`weight${rowNum}`];
            }
            
            if (params[`cost${rowNum}`]) {
                row.querySelector('.total-cost').textContent = params[`cost${rowNum}`];
            }
            
            if (params[`quantity${rowNum}`]) {
                row.querySelector('.quantity').textContent = params[`quantity${rowNum}`];
            }
            
            if (params[`price${rowNum}`]) {
                row.querySelector('.price').textContent = params[`price${rowNum}`];
            }
        });
    };
</script>

</body>
</html>

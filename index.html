<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Báo Giá</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .header {
            background-color: #f8f9fa;
            padding: 20px;
            border-bottom: 2px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .header img {
            max-height: 150px;
        }

        .header div {
            text-align: center;
        }

        .table-bordered th,
        .table-bordered td {
            vertical-align: middle;
        }

        .highlight {
            background-color: #fff3cd;
        }
    </style>
</head>

<body>
    <div class="container my-4">
        <div class="header">
            <img src="https://scontent.fhan14-4.fna.fbcdn.net/v/t39.30808-6/471464655_1033446108796304_1166465224941390168_n.jpg?stp=dst-jpg_s640x640_tt6&_nc_cat=107&ccb=1-7&_nc_sid=127cfc&_nc_ohc=pATQqBIXXH4Q7kNvgFgE3kG&_nc_oc=Adhz2w4lBC-T-dSl2CZs4tgg3taO1i_qfknogSCgHQb2gFA36HNJTVz2BzSV3qImYzILv04FvLN7HV9sCN_PvCCL&_nc_zt=23&_nc_ht=scontent.fhan14-4.fna&_nc_gid=AlN9meBpfGEveDfKYGi-rtg&oh=00_AYA0e6T5IMlL0N7VnNF5qBjCaE0etLIUutjpqQe3QouXXg&oe=67789383" alt="Nashimart Logo"
                class="img-fluid">
            <div>
                <h2 class="text-uppercase mb-0">Công Ty Cổ Phần GBC Global - Nashimart.vn</h2>
                <p class="mb-0">
                    Địa chỉ VP số 6 - Hà Nội: Khu Đô Thị Văn Phú, Hà Đông, Hà Nội<br>
                    Địa chỉ VP số 7 - HCM: Nguyễn Hữu Hào, Phường 9, Quận 4, TPHCM<br>
                    Kho sản xuất: Khu Biệt Thự - Đô Thị Phú Lương, Hà Đông, Hà Nội<br>
                    MST: 0110133517<br>
                    SĐT: 0989.88.77.22 / 0356.533.811
                </p>
            </div>
        </div>

        <h3 class="text-center text-white bg-success py-2">BẢNG BÁO GIÁ SET QUÀ DOANH NGHIỆP</h3>

        <div class="mb-4">
            <p>Ngày: <strong id="currentDate">18/12/2024</strong></p>
            <p>Kính gửi: <span id="gui"></span></p>
            <p>Mã số thuế: <span id="mst"></span></p>
            <p>Địa chỉ: <span id="diachi"></span></p>
            <p>Liên hệ: <strong>Hằng Trần (091 854 48 63)</strong></p>
        </div>

        <table class="table table-bordered text-center">
            <thead class="table-secondary">
                <tr >
                    <th rowspan="2" class="bg-success">STT</th>
                    <th rowspan="2" class="bg-success">Tên sản phẩm</th>
                    <th rowspan="2" class="bg-success">Chi tiết</th>
                    <th rowspan="2" class="bg-success">SL</th>
                    <th rowspan="2" class="bg-success">Đơn giá</th>
                    <th rowspan="2" class="bg-success">Ghi chú</th>
                </tr>
            </thead>
            <tbody>
                <tr id="firstTr">
                    <td>1</td>
                    <td rowspan="1" id="tensanpham">San pham</td>
                    <td id="chitiet1">Bánh Best Wishes</td>
                    <td id="soluong1">72</td>
                    <td rowspan="7" id="dongia">725,000</td>
                    <td rowspan="7" id="ghichutr">
                        <img src="path/to/image" alt="Set Quà" class="img-fluid" id="ghichu">
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td colspan="2" class="text-middle">Tổng cộng</td>
                    <td id="tongcong">******</td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td colspan="2" class="text-middle">Chiết khấu 15%</td>
                    <td id="chietkhau">******</td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td colspan="2" class="text-middle">VAT 8%</td>
                    <td id="vat">******</td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td colspan="2" class="text-middle">Thành tiền</td>
                    <td id="thanhtien">******</td>
                    <td></td>
                </tr>
            </tbody>
        </table>

        <div>
            <p><strong>Ghi chú:</strong></p>
            <ul>
                <li>Đặt cọc 50% giá trị đơn hàng cho sản xuất, 50% còn lại thanh toán ngay khi giao hàng.</li>
                <li>Thanh toán qua tài khoản: <strong>CTCP GBC GLOBAL</strong></li>
                <li>STK: <strong>1093 9066 924 011</strong></li>
                <li>Ngân hàng: <strong>TECHCOMBANK - CN VĂN PHÚ</strong></li>
                <li>Giá trên chưa bao gồm phí vận chuyển.</li>
                <li>Giao hàng sau 10-15 ngày kể từ ngày nhận đặt cọc sản phẩm.</li>
                <li>Địa chỉ nhận hàng:</li>
            </ul>
            <p><strong>Hiệu lực:</strong> Từ 18/12/2024 đến 22/12/2024</p>
        </div>

        <div class="text-center mt-4">
            <p>Nashimart - Tinh Hoa Quà Việt</p>
            <p>Website: <a href="https://nashimart.vn/">nashimart.vn</a></p>
            <p>Email: <a href="mailto:nashimart2024@gmail.com">nashimart2024@gmail.com</a></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        // const ids = urlParams.get('ids');
        // const name = urlParams.get('name');
        // const ids1 = ids.split(',');
        // console.log(ids1);
        // console.log(name);

        //set current date
        document.getElementById('currentDate').innerHTML = currentDate();

        document.getElementById('gui').innerHTML = urlParams.get('gui');
        document.getElementById('mst').innerHTML = urlParams.get('mst');
        document.getElementById('diachi').innerHTML = urlParams.get('diachi');

        //file:///C:/Users/PC/Desktop/aaaa.html?gui=Nguyen%20Van&mst=123123&diachi=Ha%20noi
        //&tensanpham=Daylatensanpham&chitiet=banhso1-22,banhso2-22,banhso3-33&dongia=55555&ghichu=file:///C:/Users/PC/Desktop/path/to/image
        //&tongcong=2222&chietkhau=2323&vat=2&thanhtien=323

        document.getElementById('tensanpham').innerHTML = urlParams.get('tensanpham');
        const chitiet = urlParams.get('chitiet');
        if(chitiet) {
            const chitiets = chitiet.split(',');
            if (chitiets) {
                document.getElementById('tensanpham').setAttribute('rowspan', chitiets.length);
                document.getElementById('dongia').setAttribute('rowspan', chitiets.length);
                document.getElementById('ghichutr').setAttribute('rowspan', chitiets.length);
                
                const splitChitiet1 = chitiets[0].split('-');
                if(splitChitiet1.length >= 2) {
                    document.getElementById('chitiet1').innerHTML = splitChitiet1[0];
                    document.getElementById('soluong1').innerHTML = splitChitiet1[1];
                }
                chitiets.shift(); //remove first item
                console.log(chitiets);
                var targetElement = document.getElementById('firstTr');
                for(var i = 0; i < chitiets.length; i++) {
                    const splitChitiet = chitiets[i].split('-');
                    if(splitChitiet.length >= 2) {
                        targetElement.insertAdjacentHTML('afterend', '<tr id="tr' + (i+2) + '">' +
                            '<td>' + (i+2) + '</td>' +
                            '<td>' + splitChitiet[0] + '</td>' +
                            '<td>' + splitChitiet[1] + '</td>' +
                            '</tr>');
                        const targetIdStr = 'tr' + (i+2);
                        targetElement = document.getElementById(targetIdStr);
                    }
                }
            }
        }
        
        document.getElementById('dongia').innerHTML = urlParams.get('dongia');

        document.getElementById('ghichu').setAttribute('src', urlParams.get('ghichu'));

        document.getElementById('tongcong').innerHTML = urlParams.get('tongcong');

        document.getElementById('chietkhau').innerHTML = urlParams.get('chietkhau');

        document.getElementById('vat').innerHTML = urlParams.get('vat');

        document.getElementById('thanhtien').innerHTML = urlParams.get('thanhtien');

        function currentDate() {
            const today = new Date();

            // Extract the day, month, and year
            const day = String(today.getDate()).padStart(2, '0'); // Ensures two digits for the day
            const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based, so add 1
            const year = today.getFullYear();

            // Combine the values into the desired format
            const formattedDate = `${day}/${month}/${year}`;
            return formattedDate;
        }
    </script>
</body>

</html>

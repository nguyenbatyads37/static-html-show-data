<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
        }

        .logo {
            width: 100px;
            height: auto;
        }

        .header-center {
            text-align: center;
            flex-grow: 1;
            margin: 0 20px;
        }

        .header-center h1 {
            font-size: 16px;
            margin: 0;
            white-space: nowrap; /* Đảm bảo tiêu đề chỉ hiển thị trên một dòng */
        }

        .header-center p {
            font-size: 12px;
            margin: 5px 0;
        }

        .company-info {
            text-align: right;
            font-size: 12px;
            white-space: nowrap; /* Đảm bảo thông tin công ty chỉ hiển thị trên một dòng */
        }

        .content {
            margin-top: 20px;
        }

        .content-row {
            display: flex;
            justify-content: space-between;
        }

        .content-left, .content-right {
            width: 48%;
        }

        .content-right {
            display: flex;
            flex-direction: column;
        }

        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .info-label {
            font-weight: bold;
            margin-right: 10px;
        }

        .info-content {
            font-weight: normal;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table, th, td {
            border: 1px solid black;
        }

       th, td {
    padding: 8px;
    text-align: left;
}

th:nth-child(4), td:nth-child(4) {
    width: 80px; /* Hoặc kích thước mong muốn */
    text-align: center;
}


        th {
            background-color: #f2f2f2;
        }

        .signature-table {
            margin-top: 30px;
            width: 100%;
        }

        .signature-table th, .signature-table td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        .qr-img {
            max-width: 100px;
            height: auto;
        }
    </style>
</head>

<body>
    <div class="header">
        <img src="https://github.com/user-attachments/assets/36e3f245-8d16-4aa4-b7c3-12e2a94e76c3" alt="Logo" class="logo">
        <div class="header-center">
            <h1>BIÊN BẢN GIAO NHẬN HÀNG HÓA</h1>
            <p>Số: ……/24-BBGN, ngày <span id="ngay">08/01/2025</span> 14:20</p>
        </div>
        <div class="company-info">
            <p><strong>HGPT</strong></p>
            <p>KMIH: HGPT-8.2/BM09/Rev:02</p>
            <p>Ngày BH: <span id="ngaybh">01/06/2018</span></p>
        </div>
    </div>
    <div class="content">
        <div class="content-row">
            <div class="content-left">
                <p><strong>Bên giao:</strong> <span id="bengiao">HGPT MECHANICAL</span></p>
                <p><strong>Đại diện:</strong> <span id="daidien"></span></p>
                <p><strong>Chức vụ:</strong> <span id="chucvu"></span></p>
                <p><strong>Điện thoại:</strong> <span id="dienthoai"></span></p>
                <p><strong>Nơi giao:</strong> <span id="noigiao"></span></p>
            </div>
            <div class="content-right">
                <div class="info-item">
                    <p class="info-label"><strong>Bên nhận:</strong></p>
                    <p class="info-content"><span id="bennhan">Hòa Phát</span></p>
                </div>
                <div class="info-item">
                    <p class="info-label"><strong>Hạng mục:</strong></p>
                    <div class="info-content">
                        <p><span id="hangmuc"></span></p>
                    </div>
                </div>
                <div class="info-item">
                    <p class="info-label"><strong>Nhà xe:</strong></p>
                    <p class="info-content"><span id="nhaxe"></span></p>
                </div>
                <div class="info-item">
                    <p class="info-label"><strong>Biển số:</strong></p>
                    <p class="info-content"><span id="bienso"></span></p>
                </div>
            </div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>TT</th>
                    <th>QR</th>
                    <th>TÊN CẤU KIỆN</th>
                    <th>SỐ LƯỢNG</th>
                    <th>GHI CHÚ</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Các hàng sẽ được thêm động ở đây -->
            </tbody>
        </table>
    </div>

 <!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Chữ Ký</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            text-align: center;
            padding: 10px;
        }
        th {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .email {
            color: red;
            font-style: normal;
        }
    </style>
</head>
<body>
    <table>
        <thead>
            <tr>
                <th>LÁI XE</th>
                <th>BÊN NHẬN</th>
                <th colspan="2">BÊN GIAO</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td rowspan="3"></td>
                <td rowspan="3"></td>
                <td class="italic">Người lập</td>
                <td class="italic">Kho</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td class="email">dampn@phuoctuongmc.com</td>
                <td></td>
            </tr>
        </tbody>
    </table>
</body>
</html>


 <script>
   const urlParams = new URLSearchParams(window.location.search);

// Lấy giá trị từ URL và cập nhật vào các phần tử HTML
const bengiao = urlParams.get('bengiao');
const daidien = urlParams.get('daidien');
const chucvu = urlParams.get('chucvu');
const dienthoai = urlParams.get('dienthoai');
const noigiao = urlParams.get('noigiao');
const bennhan = urlParams.get('bennhan');
const hangmuc = urlParams.get('hangmuc');
const nhaxe = urlParams.get('nhaxe');
const bienso = urlParams.get('bienso');
const ngay = urlParams.get('ngay');
const ngaybh = urlParams.get('ngaybh');

// Cập nhật giá trị động
if (bengiao) document.getElementById("bengiao").textContent = bengiao;
if (daidien) document.getElementById("daidien").textContent = daidien;
if (chucvu) document.getElementById("chucvu").textContent = chucvu;
if (dienthoai) document.getElementById("dienthoai").textContent = dienthoai;
if (noigiao) document.getElementById("noigiao").textContent = noigiao;
if (bennhan) document.getElementById("bennhan").textContent = bennhan;
if (hangmuc) document.getElementById("hangmuc").textContent = hangmuc;
if (nhaxe) document.getElementById("nhaxe").textContent = nhaxe;
if (bienso) document.getElementById("bienso").textContent = bienso;
if (ngay) document.getElementById("ngay").textContent = ngay;
if (ngaybh) document.getElementById("ngaybh").textContent = ngaybh;

// Phần còn lại của mã JavaScript giữ nguyên
function convertToMap(input) {
    const pairs = input.split('_b_');
    const map = new Map();
    pairs.forEach(pair => {
        const [key, chiTietSanPham, soLuongSanPham] = pair.split("_a_");
        if (!map.has(key)) {
            map.set(key, []);
        }
        map.get(key).push({ chiTietSanPham: chiTietSanPham, soLuongSanPham: soLuongSanPham });
    });
    return map;
}

const chitiet = urlParams.get('chitiet');
const dongia = urlParams.get('dongia');
const ghichu = urlParams.get('ghichu');

const resultMap = convertToMap(chitiet);

const mapDongia = new Map();
if (dongia) {
    const dongias = dongia.split('_b_');
    for (let i = 0; i < dongias.length; i++) {
        const chitietDongia = dongias[i].split('_a_');
        const sanPham = chitietDongia[0];
        const gia = chitietDongia[1];
        mapDongia.set(sanPham, gia);
    }
}

const mapGhichu = new Map();
if (ghichu) {
    const ghichus = ghichu.split('_b_');
    for (let i = 0; i < ghichus.length; i++) {
        const chitietGhichu = ghichus[i].split('_a_');
        let ghichu = "";
        for (let j = 1; j < chitietGhichu.length; j++) {
            ghichu += chitietGhichu[j] + '-';
        }
        ghichu = ghichu.slice(0, -1);
        const sanPham = chitietGhichu[0];
        mapGhichu.set(sanPham, ghichu);
    }
}

const tableBody = document.getElementById("tableBody");
let itemHtml = "";
let index = 1;

for (const [key, value] of resultMap.entries()) {
    const chitietSize = value.length;
    itemHtml += '<tr>' +
        '<td rowspan="' + chitietSize + '">' + index + '</td>' +
        '<td rowspan="' + chitietSize + '"><img src="' + key + '" alt="QR Code" class="qr-img"></td>' +
        '<td>' + value[0].chiTietSanPham + '</td>' +
        '<td>' + value[0].soLuongSanPham + '</td>' +
        
        '<td rowspan="' + chitietSize + '">' + (mapGhichu.get(key) || '') + '</td>' +
        '</tr>';

    if (chitietSize > 1) {
        for (let i = 1; i < chitietSize; i++) {
            itemHtml += '<tr>' +
                '<td>' + value[i].chiTietSanPham + '</td>' +
                '<td>' + value[i].soLuongSanPham + '</td>' +
                '</tr>';
        }
    }
    index++;
}

tableBody.innerHTML = itemHtml;
 </script>
</body>
</html>

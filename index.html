<!DOCTYPE html>
<html lang="vi">

<head>
    <!-- ... (Giữ nguyên phần head) ... -->
</head>

<body>
    <!-- ... (Giữ nguyên phần header và các phần khác) ... -->

    <table>
        <thead>
            <tr>
                <th>TT</th>
                <th>TÊN CẤU KIỆN</th> <!-- Sẽ hiển thị ID -->
                <th>SỐ LƯỢNG</th>
                <th>GHI CHÚ</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
        <tfoot>
            <tr>
                <td colspan="4" id="tongCauKien">Tổng cấu kiện: 0</td>
            </tr>
        </tfoot>
    </table>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // ... (Giữ nguyên phần lấy tham số) ...

            function parseChiTiet(chitiet) {
                if (!chitiet) return [];
                return chitiet.split('_b_').map(item => {
                    const [id, soLuong] = item.split('_a_');
                    return { 
                        id: id,          // Lấy phần đầu làm ID
                        soLuong: parseInt(soLuong) 
                    };
                });
            }

            const chitiet = urlParams.get('chitiet');
            const danhSachCauKien = parseChiTiet(chitiet);
            
            // Tạo nội dung bảng với ID
            danhSachCauKien.forEach((cauKien, index) => {
                itemHtml += `<tr>
                    <td>${index + 1}</td>
                    <td>${cauKien.id}</td> <!-- Hiển thị ID -->
                    <td>${cauKien.soLuong}</td>
                    <td></td>
                </tr>`;
            });

            // ... (Giữ nguyên phần còn lại) ...
        });
    </script>
</body>
</html>

